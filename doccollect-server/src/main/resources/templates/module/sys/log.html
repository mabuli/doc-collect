<!DOCTYPE html>
<html>
<head>
<title>系统日志</title>
<#include "/header.html">
</head>
<body>
<div id="rrapp" v-cloak>
	<div>
		<div class="grid-btn">
			<div class="form-group col-sm-2">
				<input type="text" class="form-control" v-model="key" @keyup.enter="query" placeholder="用户名、用户操作">
			</div>
			<a class="btn btn-default" @click="query(true)"><i class="fa fa-search"></i>&nbsp;查询</a>
		</div>
		<div style="padding: 0 10px">
			<el-table
					:data="dataPage.list"
					border
					size="small"
					height="430"
					:stripe="true"
					style="width: 100%">
				<el-table-column
						label="序号"
						:formatter="colIndex"
						width="50"
						align="center">
				</el-table-column>
				<el-table-column
						prop="username"
						label="用户名"
						:show-overflow-tooltip="true"
						align="center">
				</el-table-column>
				<el-table-column
						prop="operation"
						label="用户操作"
						:show-overflow-tooltip="true"
						align="center">
				</el-table-column>
				<el-table-column
						prop="result"
						label="相应结果"
						:show-overflow-tooltip="true"
						align="center">
				</el-table-column>
				<el-table-column
						prop="time"
						label="执行时长(毫秒)"
						:show-overflow-tooltip="true"
						align="center">
				</el-table-column>
				<el-table-column
						prop="ip"
						label="IP地址"
						:show-overflow-tooltip="true"
						align="center">
				</el-table-column>
				<el-table-column
						prop="createDate"
						label="访问时间"
						:show-overflow-tooltip="true"
						align="center">
				</el-table-column>
			</el-table>
			<el-pagination
					@size-change="handleSizeChange"
					@current-change="handleCurrentChange"
					:current-page="dataPage.currPage"
					:page-size="dataPage.pageSize"
					:page-sizes="[10, 20, 30]"
					layout="total, sizes, prev, pager, next, jumper"
					:total="dataPage.totalCount">
			</el-pagination>
		</div>
    </div>

</div>

<script src="${request.contextPath}/static/js/module/sys/log.js?_${.now?long}"></script>
</body>
</html>
